<div class="categories-wrapper" ng-controller="CategoriesController">
    <div class="all-products">
        <div class="row" id="all-products-title">
            <div class="col-xs-12 col-sm-6 col-md-1" id="main-title-row">
                <p>Товары по категориям
                <hr>
                </p>
            </div>
        </div>

        <ul class="flex-container">
            <div class="prod-item" ng-repeat="product in categoriesPage.products | start: (currentPage - 1) * pageSize | limitTo: pageSize">
                <a href="/product/{{product.slug_name}}">
                    <li class="flex-item-photo">
                        <img ng-src="http://bulavka:8080/{{product.images[0].small_path}}">
                    </li>
                    <div class="item-name-price">
                        <div class="name">
                            {{product.name}}
                        </div>
                        <div class="price">
                            {{product.attributes.price}}
                        </div>
                    </div>
                </a>
            </div>
            <div class="pagination-block">
                <pagination
                        uib-pagination
                        total-items="items.length"
                        ng-model="currentPage"
                        max-size="5"
                        class="pagination-sm"
                        boundary-links="true"
                        rotate="false"
                        first-text="Начало"
                        previous-text="Предыдущая"
                        next-text="Следующая"
                        last-text="Конец"
                ></pagination>
            </div>
        </ul>

        <div class="row" id="latest-products-title">
            <div class="col-xs-12 col-sm-6 col-md-1" id="latest-row">
                <p>Недавно вы просматривали
                <hr>
                </p>
            </div>
        </div>

        <ul class="flex-container">
            <div class="prod-item" ng-repeat="product in mainPageProducts | limitTo: 4">
                <a href="/product/{{product.slug_name}}">
                    <li class="flex-item-photo">
                        <img ng-src="http://bulavka:8080/{{product.images[0].small_path}}">
                    </li>
                    <div class="item-name-price">
                        <div class="name">
                            {{product.name}}
                        </div>
                        <div class="price">
                            {{product.attributes.price}}
                        </div>
                    </div>
                </a>
            </div>
        </ul>
    </div>

    <aside id="column-left">
        <div class="row" id="filter-title">
            <div class="col-xs-12 col-sm-6 col-md-1" id="filter-row">
                <p>фильтры
                <hr>
                </p>
                <button class="btn btn-default" id="filter-button">Развернуть/свернуть</button>
            </div>
        </div>
        <div ng-repeat="filter in categoriesPage.filters">
            <div id="age" class="to-wrap">
                <h2>{{filter.filter_name}}:</h2>
                <div ng-repeat="filterValue in filter.filter_value">
                    <label>
                        <input
                                id="{{filterValue.id}}"
                                class="filter-checkbox"
                                type="checkbox"
                                ng-model="categoriesFilterModel.checkbox[filterValue.id]"
                                ng-checked="isFilterChecked(filterValue.id)"
                                ng-change="filterCheck()"
                        />
                        {{filterValue.value}}
                    </label>
                </div>
                <hr />
            </div>
        </div>
    </aside>
</div>
